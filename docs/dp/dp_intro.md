# 动态规划理论

## 一些概念

状态：解决问题时所关注的信息的集合。

转移：状态之间的变化过程。

拓扑序：为了保证每个状态的计算和转移的处理不重复地进行，需要确定状态转移过程的方向，即拓扑序（状态转移图构成一张有向无环图）。

最优化属性：状态的所有属性（维度）中被最优化的部分。

- 对于最优化问题，我们通常需要确定出状态中的最优化属性部分。
- 按照非最优化属性对状态进行分组，每组状态通常只保留最优的状态。
- 动态规划求解过程通常按照分组的拓扑序来求解。
- 分组的拓扑序又被称为阶段，每个阶段包含若干个分组。

最优子结构：按分组拓扑序进行求解的过程中，靠后的分组的最优状态总是由靠前的分组的最优状态转移而来。

能用动态规划解决的问题，一般明显具有以下两个性质：

- 拓扑序：即无后效性。
- 最优子结构

## 联系

已知状态和转移时，可以采用枚举、模拟、搜索、状态图遍历（图的遍历）等方式求解一些可行性问题、方案数问题。

已知拓扑序时，可以采用递推的方式求解问题。

已知

## 一些技巧

以下给出比较常见的 DP 问题中的求解步骤：

1. 读题，将题意表达为数学形式，在此形式中寻找状态、转移、拓扑序、最优化属性，并判定是否存在最优子结构。
   - 可以先尝试实现搜索，然后分析出状态、转移、拓扑序、最优化属性。
2. 边界：初始状态是哪些？目标状态是哪些？状态初始化为什么值？转移中是否可能出现数组越界、数据溢出？
3. 最终描述为所谓的“状态转移方程”。

一般来说，有以下几种 DP 优化的手段：

1. 优化状态设计：降维、改变最优化属性等
2. 优化转移：数据结构优化（前缀和，单调队列，单调栈，线段树等），决策单调性（斜率优化，四边形不等式）、根号算法等数学类优化。
3. 使用记忆化搜索等技巧，跳过无效、非法状态的计算。
4. 进一步挖掘更多的子结构性质。

