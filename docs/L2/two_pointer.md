# 双指针

## 介绍

双指针（two pointer），在国内又称为尺取法。一般来说，会定义两个或更多的指针在序列上进行扫描。根据指针的扫描模式，我们可以分为两种：同向扫描和反向扫描。

反向扫描：设定两个指针 $i, j$，$i$ 从头到尾扫描，$j$ 从尾到头扫描，一般在 $i, j$ 相遇时停止。

同向扫描：设定两个指针 $i, j$，$i, j$ 都是从头到尾扫描，一般在两个指针都（或其中之一）越界时停止。

## 从模拟的角度看双指针

代码的通常格式如下：

!!! 模板（模拟视角）

    === "同向扫描"
        ```cpp
        int i = 1, j = 1;
        while (i <= n && j <= n) {
          if () {
            // ...... 干一些事情
            i++;  // 调整 i
          } else {
            // ...... 干一些事情
            j--;  // 调整 j
          }
        }
        ```

    === "反向扫描"
        
        ```cpp
        int i = 1, j = n;
        while (i < j) {
          if () {
            // ...... 干一些事情
            i++;  // 调整 i
          } else {
            // ...... 干一些事情
            j--;  // 调整 j
          }
        }
        ```
    
## 优化枚举

当序列中具有某种单调性时，可以使用双指针来优化枚举范围。

代码的格式通常如下：

!!! 模板（优化枚举视角）

    === "同向扫描"

        ```cpp
        for (int i = 1, j = 1; i <= n; i++) {  // 从小到大枚举 i
          for (; 满足一些条件; j++) {            // 从小到大调整 j
            // ...... 干一些事情
          }
          // ...... 干一些事情
        }
        ```

    === "反向扫描"

        ```cpp
        for (int i = 1, j = n; i < j; i++) {  // 从小到大枚举 i
          for (; 满足一些条件; j--) {           // 从大到小调整 j
            // ...... 干一些事情
          }
          // ...... 干一些事情
        }
        ```

关于双指针是如何用于枚举的，请学习以下例题。