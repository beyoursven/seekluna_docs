# 集合论

## 概念

集合：同类型的一堆不重复的元素。例如，$\{1, 2, 5\}$。

空集：没有元素的集合，$\phi$。

全集：全部元素构成的集合。

属于：元素 $x$ 属于集合 $S$，记作 $x \in S$；元素 $x$ 不属于集合 $S$，记作 $x \notin S$。例如，$1 \in \{ 1, 2, 5 \}$，$3 \notin \{1, 2, 5\}$。

包含：集合 $S$ 包含集合 $T$，记作 $T \subseteq S$；集合 $S$ 不包含集合 $T$，记作 $T \not \subseteq S$。$\{ 1, 2, 3\} \subseteq \{ 1, 2, 3, 4, 5\}$。

子集：由集合中的某些元素构成的新集合（可以为空集，可以是全集）。集合 $S$ 有子集 $T$，记作 $T \subseteq S$。空集是任何一个集合的子集，全集是原集合的子集。

集合的大小：集合中的元素数量，$|S|$。

大小为 $n$ 的集合有多少个子集？$2^n$ 个子集：

* 分类讨论：有 $0,1,2,3, \dots, n$ 个元素的不同子集数量为 $C_n^0, C_n^1, C_n^2, C_n^3, \dots, C_n^n$，$C_n^0 + \dots C_n^n = 2^n$。与杨辉三角形类比一下。
* 在任何一个子集中，一个元素属于或不属于这个子集这两种情况，每个元素 $2$ 种情况，因此 $n$ 个元素有 $2^n$ 种情况。

## 运算

给定两个集合 $A, B$：

- 并集 $A \ \bigcup \ B$ 表示 $A$ 和 $B$ 中所有元素构成的集合（重复元素只算一次），$\{ 1, 2, 3 \} \ \bigcup \ \{ 2, 4, 5\} = \{ 1, 2, 3, 4, 5 \}$。
- 交集 $A \ \bigcap \ B$ 表示都出现 $A$ 和 $B$ 中的所有元素构成的集合，$\{1, 2, 3 \} \ \bigcap \ \{ 2, 4, 5 \} = \{ 2\}$，$\{ 1 \} \  \bigcap \ \{ 2 \} = \phi$。
- 差集 $A - B, A \ \backslash \ B$ 表示所有属于 $A$ 但不属于 $B$ 的所有元素构成的集合，$\{ 1, 2, 3 \} \ \backslash \ \{3 \} = \{ 1, 2 \}$，$\{1, 2, 3 \} \ \backslash \ \{3, 4 \} = \{ 1, 2\}$。
- 补集 $\complement_A$ 表示所有属于全集 $S$ 但不属于 $A$ 的所有元素构成的集合。例如，当全集 $S = \{ 1, 2, 3, 4, 5, 6 \}$，$A = \{ 1, 2, 3 \}$ 时，补集 $\complement_A = \{ 4, 5, 6 \}$

## 区间

- 闭区间，左闭右闭区间：$x \in [a, b]$ 等价于 $a \le x \le b$
- 开区间，左开右开区间：$x \in (a, b)$ 等价于 $a \lt x \lt b$
- 左开右闭区间：$x \in (a, b]$ 等价于 $a \lt x \le b$
- 左闭右开区间：$x \in [a, b)$ 等价于 $a \le x \lt b$
- 交区间：$[1, 5] \ \bigcap \ [3, 6] = [3, 5]$，$[1, 2] \ \bigcap \ [3, 4] = \phi$
- 并区间：$[1, 5] \ \bigcup \ [3, 6] = [1, 6]$

## 例题：洛谷 P2415 集合求和

分别对每个数字考虑它对答案的贡献（加法原理）。一个数字 $a_i$ 会出现在 $2^{n - 1}$ 个子集中，它对答案的贡献为 $2^{n - 1} \times a_i$（乘法原理）。

每个元素在 $2^{n - 1}$ 个集合中出现，在另外 $2^{n - 1}$ 个集合不出现，分别计算每个元素对答案的贡献即可。

最终答案为 $2^{n-1} \times \sum a_i$。